@model PMS.Web.Models.InventoryDetail

@{
    ViewData["Title"] = "Plot Details";
}

<div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Plot Details</h2>
        <div>
            <a asp-action="Edit" asp-route-id="@Model.UID" class="btn btn-primary">Edit</a>
            <a asp-action="AllPlots" class="btn btn-secondary">Back to List</a>
        </div>
    </div>

    <div class="card shadow-sm">
        <div class="card-body">
            <!-- Bootstrap 5 Tabs -->
            <ul class="nav nav-tabs mb-4" id="plotDetailsTabs" role="tablist">
                <li class="nav-item me-1" role="presentation">
                    <button class="nav-link active bg-light text-dark" id="project-tab" data-bs-toggle="tab" data-bs-target="#project" type="button" role="tab" aria-controls="project" aria-selected="true">
                        Project Information
                    </button>
                </li>
                <li class="nav-item me-1" role="presentation">
                    <button class="nav-link bg-light text-dark" id="unit-tab" data-bs-toggle="tab" data-bs-target="#unit" type="button" role="tab" aria-controls="unit" aria-selected="false">
                        Unit Information
                    </button>
                </li>
                <li class="nav-item me-1" role="presentation">
                    <button class="nav-link bg-light text-dark" id="status-tab" data-bs-toggle="tab" data-bs-target="#status" type="button" role="tab" aria-controls="status" aria-selected="false">
                        Status Information
                    </button>
                </li>
                <li class="nav-item me-1" role="presentation">
                    <button class="nav-link bg-light text-dark" id="allotment-tab" data-bs-toggle="tab" data-bs-target="#allotment" type="button" role="tab" aria-controls="allotment" aria-selected="false">
                        Allotment Information
                    </button>
                </li>
            </ul>

            <!-- Tab Content -->
            <div class="tab-content" id="plotDetailsTabContent">
                <!-- Tab 1: Project Information -->
                <div class="tab-pane fade show active" id="project" role="tabpanel" aria-labelledby="project-tab">
                    <div class="table-responsive">
                        <table class="table table-bordered table-striped">
                            <tbody>
                                <tr>
                                    <th class="bg-light" style="width: 200px;">@Html.DisplayNameFor(model => model.UID)</th>
                                    <td>@Html.DisplayFor(model => model.UID)</td>
                                </tr>
                                <tr>
                                    <th class="bg-light">@Html.DisplayNameFor(model => model.Project)</th>
                                    <td>@Html.DisplayFor(model => model.Project)</td>
                                </tr>
                                <tr>
                                    <th class="bg-light">@Html.DisplayNameFor(model => model.SubProject)</th>
                                    <td>@Html.DisplayFor(model => model.SubProject)</td>
                                </tr>
                                <tr>
                                    <th class="bg-light">@Html.DisplayNameFor(model => model.Sector)</th>
                                    <td>@Html.DisplayFor(model => model.Sector)</td>
                                </tr>
                                <tr>
                                    <th class="bg-light">@Html.DisplayNameFor(model => model.Block)</th>
                                    <td>@Html.DisplayFor(model => model.Block)</td>
                                </tr>
                                <tr>
                                    <th class="bg-light">@Html.DisplayNameFor(model => model.Street)</th>
                                    <td>@Html.DisplayFor(model => model.Street)</td>
                                </tr>
                                <tr>
                                    <th class="bg-light">@Html.DisplayNameFor(model => model.PlotNo)</th>
                                    <td class="fw-medium">@Html.DisplayFor(model => model.PlotNo)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Tab 2: Unit Information -->
                <div class="tab-pane fade" id="unit" role="tabpanel" aria-labelledby="unit-tab">
                    <div class="table-responsive">
                        <table class="table table-bordered table-striped">
                            <tbody>
                                <tr>
                                    <th class="bg-light" style="width: 200px;">@Html.DisplayNameFor(model => model.Category)</th>
                                    <td>@Html.DisplayFor(model => model.Category)</td>
                                </tr>
                                <tr>
                                    <th class="bg-light">@Html.DisplayNameFor(model => model.UnitSize)</th>
                                    <td>@Html.DisplayFor(model => model.UnitSize)</td>
                                </tr>
                                <tr>
                                    <th class="bg-light">@Html.DisplayNameFor(model => model.UnitType)</th>
                                    <td>@Html.DisplayFor(model => model.UnitType)</td>
                                </tr>
                                <tr>
                                    <th class="bg-light">@Html.DisplayNameFor(model => model.FloorNo)</th>
                                    <td>@Html.DisplayFor(model => model.FloorNo)</td>
                                </tr>
                                <tr>
                                    <th class="bg-light">@Html.DisplayNameFor(model => model.UnitNo)</th>
                                    <td>@Html.DisplayFor(model => model.UnitNo)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Tab 3: Status Information -->
                <div class="tab-pane fade" id="status" role="tabpanel" aria-labelledby="status-tab">
                    <div class="table-responsive">
                        <table class="table table-bordered table-striped">
                            <tbody>
                                <tr>
                                    <th class="bg-light" style="width: 200px;">@Html.DisplayNameFor(model => model.DevelopmentStatus)</th>
                                    <td>@Html.DisplayFor(model => model.DevelopmentStatus)</td>
                                </tr>
                                <tr>
                                    <th class="bg-light">@Html.DisplayNameFor(model => model.ConstStatus)</th>
                                    <td>@Html.DisplayFor(model => model.ConstStatus)</td>
                                </tr>
                                <tr>
                                    <th class="bg-light">@Html.DisplayNameFor(model => model.AllotmentStatus)</th>
                                    <td>
                                        @if (Model.AllotmentStatus?.ToLower() == "allotted" || Model.AllotmentStatus?.ToLower() == "reserved")
                                        {
                                            <span class="badge bg-success">@Html.DisplayFor(model => model.AllotmentStatus)</span>
                                        }
                                        else if (Model.AllotmentStatus?.ToLower() == "available")
                                        {
                                            <span class="badge bg-info">@Html.DisplayFor(model => model.AllotmentStatus)</span>
                                        }
                                        else
                                        {
                                            <span class="badge bg-secondary">@Html.DisplayFor(model => model.AllotmentStatus)</span>
                                        }
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Tab 4: Allotment Information -->
                <div class="tab-pane fade" id="allotment" role="tabpanel" aria-labelledby="allotment-tab">
                    <div class="table-responsive">
                        <table class="table table-bordered table-striped">
                            <tbody>
                                <tr>
                                    <th class="bg-light" style="width: 200px;">@Html.DisplayNameFor(model => model.CustomerNo)</th>
                                    <td>@Html.DisplayFor(model => model.CustomerNo)</td>
                                </tr>
                                <tr>
                                    <th class="bg-light">@Html.DisplayNameFor(model => model.AllotmentDate)</th>
                                    <td>@(Model.AllotmentDate?.ToString("yyyy-MM-dd") ?? "N/A")</td>
                                </tr>
                                <tr>
                                    <th class="bg-light">@Html.DisplayNameFor(model => model.AllottedBy)</th>
                                    <td>@Html.DisplayFor(model => model.AllottedBy)</td>
                                </tr>
                                <tr>
                                    <th class="bg-light">@Html.DisplayNameFor(model => model.CreationDate)</th>
                                    <td>@(Model.CreationDate?.ToString("yyyy-MM-dd") ?? "N/A")</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Styles {
    <style>
        .container-fluid {
            font-size: 0.875rem;
        }
        .container-fluid h2 {
            font-size: 1.5rem;
        }
        .table {
            font-size: 0.875rem;
        }
        .table th {
            font-size: 0.875rem;
        }
        .table td {
            font-size: 0.875rem;
        }
        .nav-tabs .nav-link {
            transition: all 0.2s ease;
            font-size: 0.875rem;
        }
        .nav-tabs .nav-link.active {
            background-color: var(--bs-light) !important;
            color: var(--bs-dark) !important;
            font-weight: bold !important;
            border-bottom: 2px solid var(--bs-primary) !important;
        }
        .nav-tabs .nav-link:not(.active):hover {
            background-color: var(--bs-light) !important;
            color: var(--bs-dark) !important;
        }
        .btn {
            font-size: 0.875rem;
        }
    </style>
}